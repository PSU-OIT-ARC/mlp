{% load unfriendly_tags %}
<link href="{{ STATIC_URL }}video-js/video-js.min.css" rel="stylesheet">
<script src="{{ STATIC_URL }}video-js/video.dev.js"></script>
<link href="{{ STATIC_URL }}video-js/resolutions/video-js-resolutions.css" rel="stylesheet">
<script src="{{ STATIC_URL }}video-js/resolutions/video-js-resolutions.js"></script>
<script>
    videojs.options.flash.swf = "{{ STATIC_URL }}video-js/video-js.swf"
</script>

<video id="video_main" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto"
    height="343px" width="100%"
    data-setup="{}">
    <source src="{{ file.filepath_low|add:'.mp4'|obfuscate }}" type="video/mp4" data-res="SD" data-default="true">
    <source src="{{ file.filepath_low|add:'.ogv'|obfuscate }}" type="video/ogg" data-res="SD" data-default="true">
    <source src="{{ file.filepath_high|add:'.mp4'|obfuscate }}" type="video/mp4" data-res="HD">    
    <source src="{{ file.filepath_high|add:'.ogv'|obfuscate }}" type="video/ogg" data-res="HD">    
</video>
<script type="text/javascript">
    vjs('video_main', {
        plugins: {
            resolutions: true
        }        
    });
</script>
